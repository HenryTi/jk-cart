{"version":3,"sources":["../node_modules/tonva/dist/entry/res/login.js","../node_modules/tonva/dist/entry/res/register.js","../node_modules/tonva/dist/entry/tools.js","../node_modules/tonva/dist/entry/register.js","../node_modules/tonva/dist/entry/login.js","../node_modules/tonva/dist/img/logo.svg"],"names":["loginRes","_","a","registerRes","logo","tonvaTop","loginTop","className","src","alt","senders","type","caption","regex","getSender","un","find","v","test","__extends","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","label","sent","trys","ops","verb","Symbol","iterator","n","op","TypeError","call","pop","length","push","_super","RegisterController","_this","arguments","accountPageCaption","accountLabel","accountSubmitCaption","passwordPageCaption","passwordSubmitCaption","successText","login","retUser","_a","user","account","pwd","password","guest","undefined","alert","logined","internalStart","openVPage","toVerify","toPassword","toSuccess","regReturn","registerReturn","msg","checkAccount","ret","error","isExists","accountError","setVerify","oem","execute","params","nick","country","mobile","mobileCountry","email","verify","Number","register","clear","ForgetController","resetPassword","AccountPage","schema","name","required","maxLength","res","page","header","controller","style","marginLeft","marginRight","uiSchema","onButtonClick","onSubmit","onEnter","requiredFlag","context","sender","clearContextErrors","getValue","setError","open","items","widget","placeholder","openPage","VerifyPage","onVerifyChanged","prev","setDisabled","onChanged","submit","disabled","checkVerify","typeText","extra","PasswordPage","values","rePwd","form","data","setValue","RegSuccess","onClick","Login","username","console","log","token","props","callback","clickReg","start","clickForget","render","footer","color","margin","withBack","module","exports"],"mappings":"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","file":"static/js/3.2581b639.chunk.js","sourcesContent":["export var loginRes = {\n  _: {\n    a: 'd'\n  }\n};","export var registerRes = {\n  _: {\n    a: 'd'\n  }\n};","import * as React from 'react';\nimport { nav, mobileRegex, emailRegex } from '../components';\n\nvar logo = require('../img/logo.svg');\n\nexport function tonvaTop() {\n  return nav.loginTop(React.createElement(\"div\", {\n    className: \"d-flex align-items-center\"\n  }, React.createElement(\"img\", {\n    className: \"App-logo h-3c position-absolute\",\n    src: logo,\n    alt: \"img\"\n  }), React.createElement(\"div\", {\n    className: \"h3 flex-fill text-center\"\n  }, React.createElement(\"span\", {\n    className: \"text-primary mr-3\"\n  }, \"\\u540C\"), React.createElement(\"span\", {\n    className: \"text-danger\"\n  }, \"\\u82B1\"))));\n}\nvar senders = [{\n  type: 'mobile',\n  caption: '手机号',\n  regex: mobileRegex\n}, {\n  type: 'email',\n  caption: '邮箱',\n  regex: emailRegex\n}];\nexport function getSender(un) {\n  var sender = senders.find(function (v) {\n    return v.regex.test(un) === true;\n  });\n  return sender;\n}","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport * as React from 'react';\nimport { nav, Page, Form, resLang, Controller, VPage } from '../components';\nimport { userApi } from '../net';\nimport '../css/va-form.css';\nimport { registerRes } from './res';\nimport { tonvaTop, getSender } from './tools';\n/*\r\nclass AccountInput extends TextWidget {\r\n    @observable private buttonDisabled: boolean = true;\r\n    private onClick = () => {\r\n        let {onButtonClick} = this.context.form.props;\r\n        if (onButtonClick === undefined) return;\r\n        onButtonClick(this.name, this.context);\r\n    }\r\n    protected onChange(evt: React.ChangeEvent<any>) {\r\n        this.buttonDisabled = (evt.target.value.trim().length === 0);\r\n    }\r\n    render() {\r\n        return <>\r\n            <div className=\"input-group\">\r\n                <input ref={input=>this.input = input}\r\n                            className=\"form-control\"\r\n                            type={this.inputType}\r\n                            defaultValue={this.value}\r\n                            onChange={(evt: React.ChangeEvent<any>) => this.onChange(evt)}\r\n                            placeholder='手机号/邮箱'\r\n                            readOnly={this.readOnly}\r\n                            disabled={this.disabled}\r\n                            onKeyDown = {this.onKeyDown}\r\n                            onFocus = {(evt: React.FocusEvent<any>) => this.onFocus(evt)}\r\n                            onBlur={(evt: React.FocusEvent<any>) => this.onBlur(evt)}\r\n                            maxLength={(this.itemSchema as StringSchema).maxLength} />\r\n                <div className=\"input-group-append\">\r\n                    <button className=\"btn btn-sm btn-outline-primary\"\r\n                        type=\"button\" disabled={this.buttonDisabled}\r\n                        onClick={this.onClick}>\r\n                        <small>发送验证码</small>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            {this.renderErrors()}\r\n        </>;\r\n    }\r\n}\r\n*/\n\nvar RegisterController =\n/** @class */\nfunction (_super) {\n  __extends(RegisterController, _super);\n\n  function RegisterController() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.accountPageCaption = '注册账号';\n    _this.accountLabel = '注册账号';\n    _this.accountSubmitCaption = '注册新账号';\n    _this.passwordPageCaption = '账号密码';\n    _this.passwordSubmitCaption = '注册新账号';\n    _this.successText = '注册成功';\n\n    _this.login = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        var retUser;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4\n              /*yield*/\n              , userApi.login({\n                user: this.account,\n                pwd: this.password,\n                guest: nav.guest\n              })];\n\n            case 1:\n              retUser = _a.sent();\n\n              if (retUser === undefined) {\n                alert('something wrong!');\n                return [2\n                /*return*/\n                ];\n              }\n\n              return [4\n              /*yield*/\n              , nav.logined(retUser)];\n\n            case 2:\n              _a.sent();\n\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  RegisterController.prototype.internalStart = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.openVPage(AccountPage);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  RegisterController.prototype.toVerify = function (account) {\n    this.account = account;\n    this.openVPage(VerifyPage);\n  };\n\n  RegisterController.prototype.toPassword = function () {\n    this.openVPage(PasswordPage);\n  };\n\n  RegisterController.prototype.toSuccess = function () {\n    this.openVPage(RegSuccess);\n  };\n\n  RegisterController.prototype.regReturn = function (registerReturn) {\n    var msg;\n\n    switch (registerReturn) {\n      default:\n        return '服务器发生错误';\n\n      case 4:\n        return '验证码错误';\n\n      case 0:\n        return;\n\n      case 1:\n        msg = '用户名 ' + this.account;\n        break;\n\n      case 2:\n        msg = '手机号 +' + this.account;\n        break;\n\n      case 3:\n        msg = '邮箱 ' + this.account;\n        break;\n    }\n\n    return msg + ' 已经被注册过了';\n  };\n\n  RegisterController.prototype.checkAccount = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var ret, error;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , userApi.isExists(this.account)];\n\n          case 1:\n            ret = _a.sent();\n            error = this.accountError(ret);\n            if (error !== undefined) return [2\n            /*return*/\n            , error];\n            return [4\n            /*yield*/\n            , userApi.setVerify(this.account, this.type, nav.oem)];\n\n          case 2:\n            ret = _a.sent();\n            this.toVerify(this.account);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  RegisterController.prototype.accountError = function (isExists) {\n    if (isExists > 0) return '已经被注册使用了';\n  };\n\n  RegisterController.prototype.execute = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var params, ret, error;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            params = {\n              nick: undefined,\n              user: this.account,\n              pwd: this.password,\n              country: undefined,\n              mobile: undefined,\n              mobileCountry: undefined,\n              email: undefined,\n              verify: this.verify\n            };\n\n            switch (this.type) {\n              case 'mobile':\n                params.mobile = Number(this.account);\n                params.mobileCountry = 86;\n                break;\n\n              case 'email':\n                params.email = this.account;\n                break;\n            }\n\n            return [4\n            /*yield*/\n            , userApi.register(params)];\n\n          case 1:\n            ret = _a.sent();\n\n            if (ret === 0) {\n              nav.clear();\n              this.toSuccess();\n              return [2\n              /*return*/\n              ];\n            }\n\n            error = this.regReturn(ret);\n            return [2\n            /*return*/\n            , error];\n        }\n      });\n    });\n  };\n\n  return RegisterController;\n}(Controller);\n\nexport { RegisterController };\n\nvar ForgetController =\n/** @class */\nfunction (_super) {\n  __extends(ForgetController, _super);\n\n  function ForgetController() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.accountPageCaption = '密码找回';\n    _this.accountLabel = '账号';\n    _this.accountSubmitCaption = '注册新账号';\n    _this.passwordPageCaption = '重置密码';\n    _this.passwordSubmitCaption = '提交';\n    _this.successText = '成功修改密码';\n    return _this;\n  }\n\n  ForgetController.prototype.execute = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , userApi.resetPassword(this.account, this.password, this.verify, this.type)];\n\n          case 1:\n            _a.sent();\n\n            nav.clear();\n            this.toSuccess();\n            return [2\n            /*return*/\n            , undefined];\n        }\n      });\n    });\n  };\n\n  ForgetController.prototype.accountError = function (isExists) {\n    if (isExists === 0) return '请输入正确的账号';\n  };\n\n  return ForgetController;\n}(RegisterController);\n\nexport { ForgetController };\n\nvar AccountPage =\n/** @class */\nfunction (_super) {\n  __extends(AccountPage, _super);\n\n  function AccountPage() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.schema = [{\n      name: 'user',\n      type: 'string',\n      required: true,\n      maxLength: 100\n    }, {\n      name: 'verify',\n      type: 'submit'\n    }];\n    _this.res = resLang(registerRes);\n\n    _this.page = function () {\n      return React.createElement(Page, {\n        header: _this.controller.accountPageCaption\n      }, React.createElement(\"div\", {\n        className: \"w-max-20c my-5 py-5\",\n        style: {\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        }\n      }, tonvaTop(), React.createElement(\"div\", {\n        className: \"h-3c\"\n      }), React.createElement(Form, {\n        schema: _this.schema,\n        uiSchema: _this.uiSchema,\n        onButtonClick: _this.onSubmit,\n        onEnter: _this.onEnter,\n        requiredFlag: false\n      })));\n    };\n\n    _this.onSubmit = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var user, value, sender, type, ret;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              context.clearContextErrors();\n              user = 'user';\n              value = context.getValue(user);\n              sender = getSender(value);\n\n              if (sender === undefined) {\n                context.setError(user, '必须是手机号或邮箱');\n                return [2\n                /*return*/\n                ];\n              }\n\n              type = sender.type;\n\n              if (type === 'mobile') {\n                if (value.length !== 11 || value[0] !== '1') {\n                  context.setError(user, '请输入正确的手机号');\n                  return [2\n                  /*return*/\n                  ];\n                }\n              }\n\n              this.controller.account = value;\n              this.controller.type = type;\n              return [4\n              /*yield*/\n              , this.controller.checkAccount()];\n\n            case 1:\n              ret = _a.sent();\n              if (ret !== undefined) context.setError(user, ret);\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    _this.onEnter = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!(name === 'user')) return [3\n              /*break*/\n              , 2];\n              return [4\n              /*yield*/\n              , this.onSubmit('verify', context)];\n\n            case 1:\n              return [2\n              /*return*/\n              , _a.sent()];\n\n            case 2:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  AccountPage.prototype.open = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.uiSchema = {\n          items: {\n            user: {\n              widget: 'text',\n              label: this.controller.accountLabel,\n              placeholder: '手机号或邮箱'\n            },\n            verify: {\n              widget: 'button',\n              className: 'btn btn-primary btn-block mt-3',\n              label: '发送验证码'\n            }\n          }\n        };\n        this.openPage(this.page);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  return AccountPage;\n}(VPage);\n\nvar VerifyPage =\n/** @class */\nfunction (_super) {\n  __extends(VerifyPage, _super);\n\n  function VerifyPage() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.schema = [{\n      name: 'verify',\n      type: 'number',\n      required: true,\n      maxLength: 6\n    }, {\n      name: 'submit',\n      type: 'submit'\n    }];\n\n    _this.onVerifyChanged = function (context, value, prev) {\n      context.setDisabled('submit', !value || value.length !== 6);\n    };\n\n    _this.uiSchema = {\n      items: {\n        verify: {\n          widget: 'text',\n          label: '验证码',\n          placeholder: '请输入验证码',\n          onChanged: _this.onVerifyChanged\n        },\n        submit: {\n          widget: 'button',\n          className: 'btn btn-primary btn-block mt-3',\n          label: '下一步 >',\n          disabled: true\n        }\n      }\n    };\n\n    _this.onSubmit = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var verify, ret;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              verify = this.controller.verify = context.getValue('verify');\n              return [4\n              /*yield*/\n              , userApi.checkVerify(this.controller.account, verify)];\n\n            case 1:\n              ret = _a.sent();\n\n              if (ret === 0) {\n                context.setError('verify', '验证码错误');\n                return [2\n                /*return*/\n                ];\n              }\n\n              this.controller.toPassword();\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    _this.onEnter = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!(name === 'verify')) return [3\n              /*break*/\n              , 2];\n              return [4\n              /*yield*/\n              , this.onSubmit('submit', context)];\n\n            case 1:\n              return [2\n              /*return*/\n              , _a.sent()];\n\n            case 2:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    _this.page = function () {\n      var typeText, extra;\n\n      switch (_this.controller.type) {\n        case 'mobile':\n          typeText = '手机号';\n          break;\n\n        case 'email':\n          typeText = '邮箱';\n          extra = React.createElement(React.Fragment, null, React.createElement(\"span\", {\n            className: \"text-danger\"\n          }, \"\\u6CE8\\u610F\"), \": \\u6709\\u53EF\\u80FD\\u8BEF\\u4E3A\\u5783\\u573E\\u90AE\\u4EF6\\uFF0C\\u8BF7\\u68C0\\u67E5\", React.createElement(\"br\", null));\n          break;\n      }\n\n      return React.createElement(Page, {\n        header: \"\\u9A8C\\u8BC1\\u7801\"\n      }, React.createElement(\"div\", {\n        className: \"w-max-20c my-5 py-5\",\n        style: {\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        }\n      }, \"\\u9A8C\\u8BC1\\u7801\\u5DF2\\u7ECF\\u53D1\\u9001\\u5230\", typeText, React.createElement(\"br\", null), React.createElement(\"div\", {\n        className: \"py-2 px-3 my-2 text-primary bg-light\"\n      }, React.createElement(\"b\", null, _this.controller.account)), extra, React.createElement(\"div\", {\n        className: \"h-1c\"\n      }), React.createElement(Form, {\n        schema: _this.schema,\n        uiSchema: _this.uiSchema,\n        onButtonClick: _this.onSubmit,\n        onEnter: _this.onEnter,\n        requiredFlag: false\n      })));\n    };\n\n    return _this;\n  }\n\n  VerifyPage.prototype.open = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.openPage(this.page);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  return VerifyPage;\n}(VPage);\n\nvar PasswordPage =\n/** @class */\nfunction (_super) {\n  __extends(PasswordPage, _super);\n\n  function PasswordPage() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.schema = [{\n      name: 'pwd',\n      type: 'string',\n      required: true,\n      maxLength: 100\n    }, {\n      name: 'rePwd',\n      type: 'string',\n      required: true,\n      maxLength: 100\n    }, {\n      name: 'submit',\n      type: 'submit'\n    }];\n\n    _this.onSubmit = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var values, pwd, rePwd, error;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              values = context.form.data;\n              pwd = values.pwd, rePwd = values.rePwd;\n              if (!(!pwd || pwd !== rePwd)) return [3\n              /*break*/\n              , 1];\n              context.setValue('pwd', '');\n              context.setValue('rePwd', '');\n              error = '密码错误，请重新输入密码！';\n              context.setError('pwd', error);\n              return [3\n              /*break*/\n              , 3];\n\n            case 1:\n              this.controller.password = pwd;\n              return [4\n              /*yield*/\n              , this.controller.execute()];\n\n            case 2:\n              error = _a.sent();\n\n              if (error !== undefined) {\n                nav.push(React.createElement(Page, {\n                  header: \"\\u6CE8\\u518C\\u4E0D\\u6210\\u529F\"\n                }, React.createElement(\"div\", {\n                  className: \"p-5 text-danger\"\n                }, error)));\n              }\n\n              _a.label = 3;\n\n            case 3:\n              return [2\n              /*return*/\n              , error];\n          }\n        });\n      });\n    };\n\n    _this.onEnter = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!(name === 'rePwd')) return [3\n              /*break*/\n              , 2];\n              return [4\n              /*yield*/\n              , this.onSubmit('submit', context)];\n\n            case 1:\n              return [2\n              /*return*/\n              , _a.sent()];\n\n            case 2:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    _this.page = function () {\n      return React.createElement(Page, {\n        header: _this.controller.passwordPageCaption\n      }, React.createElement(\"div\", {\n        className: \"w-max-20c my-5 py-5\",\n        style: {\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        }\n      }, \"\\u6CE8\\u518C\\u8D26\\u53F7\", React.createElement(\"br\", null), React.createElement(\"div\", {\n        className: \"py-2 px-3 my-2 text-primary bg-light\"\n      }, React.createElement(\"b\", null, _this.controller.account)), React.createElement(\"div\", {\n        className: \"h-1c\"\n      }), React.createElement(Form, {\n        schema: _this.schema,\n        uiSchema: _this.uiSchema,\n        onButtonClick: _this.onSubmit,\n        onEnter: _this.onEnter,\n        requiredFlag: false\n      })));\n    };\n\n    return _this;\n  }\n\n  PasswordPage.prototype.open = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.uiSchema = {\n          items: {\n            pwd: {\n              widget: 'password',\n              placeholder: '密码',\n              label: '密码'\n            },\n            rePwd: {\n              widget: 'password',\n              placeholder: '重复密码',\n              label: '重复密码'\n            },\n            submit: {\n              widget: 'button',\n              className: 'btn btn-primary btn-block mt-3',\n              label: this.controller.passwordSubmitCaption\n            }\n          }\n        };\n        this.openPage(this.page);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  return PasswordPage;\n}(VPage);\n\nvar RegSuccess =\n/** @class */\nfunction (_super) {\n  __extends(RegSuccess, _super);\n\n  function RegSuccess() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.page = function () {\n      var _a = _this.controller,\n          account = _a.account,\n          successText = _a.successText,\n          login = _a.login;\n      return React.createElement(Page, {\n        header: false\n      }, React.createElement(\"div\", {\n        className: \"container w-max-30c\"\n      }, React.createElement(\"form\", {\n        className: \"my-5\"\n      }, React.createElement(\"div\", {\n        className: \"py-5\"\n      }, \"\\u8D26\\u53F7 \", React.createElement(\"strong\", {\n        className: \"text-primary\"\n      }, account, \" \"), \" \", successText, \"\\uFF01\"), React.createElement(\"button\", {\n        className: \"btn btn-success btn-block\",\n        type: \"button\",\n        onClick: login\n      }, \"\\u76F4\\u63A5\\u767B\\u5F55\"))));\n    };\n\n    return _this;\n  }\n\n  RegSuccess.prototype.open = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.openPage(this.page);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  return RegSuccess;\n}(VPage);","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport * as React from 'react';\nimport { nav, Page, Form, resLang } from '../components';\nimport { RegisterController, ForgetController } from './register';\nimport { userApi } from '../net';\nimport { loginRes } from './res';\nimport { tonvaTop, getSender } from './tools';\nvar schema = [{\n  name: 'username',\n  type: 'string',\n  required: true,\n  maxLength: 100\n}, {\n  name: 'password',\n  type: 'string',\n  required: true,\n  maxLength: 100\n}, {\n  name: 'login',\n  type: 'submit'\n}];\n\nvar Login =\n/** @class */\nfunction (_super) {\n  __extends(Login, _super);\n\n  function Login() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.res = resLang(loginRes);\n    _this.uiSchema = {\n      items: {\n        username: {\n          placeholder: '手机/邮箱/用户名',\n          label: '登录账号'\n        },\n        password: {\n          widget: 'password',\n          placeholder: '密码',\n          label: '密码'\n        },\n        login: {\n          widget: 'button',\n          className: 'btn btn-primary btn-block mt-3',\n          label: '登录'\n        }\n      }\n    };\n\n    _this.onSubmit = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var values, un, pwd, user, sender, type;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              values = context.form.data;\n              un = values['username'];\n              pwd = values['password'];\n\n              if (pwd === undefined) {\n                return [2\n                /*return*/\n                , 'something wrong, pwd is undefined'];\n              }\n\n              return [4\n              /*yield*/\n              , userApi.login({\n                user: un,\n                pwd: pwd,\n                guest: nav.guest\n              })];\n\n            case 1:\n              user = _a.sent();\n\n              if (user === undefined) {\n                sender = getSender(un);\n                type = sender !== undefined ? sender.caption : '用户名';\n                return [2\n                /*return*/\n                , type + '或密码错！'];\n              }\n\n              console.log(\"onLoginSubmit: user=%s pwd:%s\", user.name, user.token);\n              return [4\n              /*yield*/\n              , nav.logined(user, this.props.callback)];\n\n            case 2:\n              _a.sent();\n\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    _this.onEnter = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!(name === 'password')) return [3\n              /*break*/\n              , 2];\n              return [4\n              /*yield*/\n              , this.onSubmit('login', context)];\n\n            case 1:\n              return [2\n              /*return*/\n              , _a.sent()];\n\n            case 2:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    _this.clickReg = function () {\n      //nav.replace(<RegisterView />);\n      var register = new RegisterController(undefined);\n      register.start();\n    };\n\n    _this.clickForget = function () {\n      var forget = new ForgetController(undefined);\n      forget.start();\n    };\n\n    return _this;\n  }\n\n  Login.prototype.render = function () {\n    var _this = this;\n\n    var footer = React.createElement(\"div\", {\n      className: 'text-center'\n    }, React.createElement(\"button\", {\n      className: \"btn btn-link\",\n      color: \"link\",\n      style: {\n        margin: '0px auto'\n      },\n      onClick: this.clickReg\n    }, \"\\u6CE8\\u518C\\u8D26\\u53F7\"));\n    var header = false;\n\n    if (this.props.withBack === true) {\n      header = '登录';\n    }\n\n    return React.createElement(Page, {\n      header: header,\n      footer: footer\n    }, React.createElement(\"div\", {\n      className: \"d-flex h-100 flex-column justify-content-center align-items-center\"\n    }, React.createElement(\"div\", {\n      className: \"flex-fill\"\n    }), React.createElement(\"div\", {\n      className: \"w-20c\"\n    }, tonvaTop(), React.createElement(\"div\", {\n      className: \"h-2c\"\n    }), React.createElement(Form, {\n      schema: schema,\n      uiSchema: this.uiSchema,\n      onButtonClick: this.onSubmit,\n      onEnter: this.onEnter,\n      requiredFlag: false\n    }), React.createElement(\"button\", {\n      className: \"btn btn-link btn-block\",\n      onClick: function onClick() {\n        return _this.clickForget();\n      }\n    }, \"\\u5FD8\\u8BB0\\u5BC6\\u7801\")), React.createElement(\"div\", {\n      className: \"flex-fill\"\n    }), React.createElement(\"div\", {\n      className: \"flex-fill\"\n    })));\n  };\n\n  return Login;\n}(React.Component);\n\nexport default Login;","module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";"],"sourceRoot":""}